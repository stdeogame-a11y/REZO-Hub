-- REZO HUB - Blox Fruits
-- Main Script v1.0
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local RezoHub = {}

-- ConfiguraciÃ³n global
RezoHub.Config = {
    AutoFarmFruits = false,
    AutoCollectChests = false,
    AutoTrainSkills = false,
    FruitRange = 50,
    ChestRange = 30,
    EnemyRange = 25,
    DebugMode = true,
    Version = "1.0"
}

-- Sistema de mÃ³dulos
RezoHub.Modules = {
    MenuManager = nil,
    FruitSystem = nil,
    ChestSystem = nil,
    SkillSystem = nil
}

-- FunciÃ³n para cargar mÃ³dulos
function RezoHub:LoadModule(moduleName)
    if self.Modules[moduleName] then
        return self.Modules[moduleName]
    end
    
    -- En un entorno real, esto cargarÃ­a desde archivos externos
    local module = require(script:WaitForChild(moduleName))
    self.Modules[moduleName] = module
    return module
end

-- InicializaciÃ³n principal
function RezoHub:Initialize()
    -- Esperar a que el jugador estÃ© listo
    repeat wait() until player.Character
    player.CharacterAdded:Connect(function(char)
        self.Character = char
    end)
    self.Character = player.Character
    
    print("ğŸ® REZO HUB Inicializando...")
    print("ğŸ“‹ VersiÃ³n: " .. self.Config.Version)
    
    -- Cargar mÃ³dulos
    self:LoadModule("MenuManager")
    self:LoadModule("FruitSystem") 
    self:LoadModule("ChestSystem")
    self:LoadModule("SkillSystem")
    
    -- Inicializar mÃ³dulos
    for name, module in pairs(self.Modules) do
        if module.Initialize then
            module:Initialize(self.Config)
            print("âœ… " .. name .. " cargado correctamente")
        end
    end
    
    self:SetupConnections()
    self:ShowWelcomeMessage()
end

-- Configurar conexiones de eventos
function RezoHub:SetupConnections()
    RunService.Heartbeat:Connect(function()
        self:GlobalUpdate()
    end)
end

-- ActualizaciÃ³n global
function RezoHub:GlobalUpdate()
    if self.Config.AutoFarmFruits and self.Modules.FruitSystem then
        self.Modules.FruitSystem:Update()
    end
    
    if self.Config.AutoCollectChests and self.Modules.ChestSystem then
        self.Modules.ChestSystem:Update()
    end
    
    if self.Config.AutoTrainSkills and self.Modules.SkillSystem then
        self.Modules.SkillSystem:Update()
    end
end

-- Mensaje de bienvenida
function RezoHub:ShowWelcomeMessage()
    local message = [[
    
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘         ğŸ® REZO HUB         â•‘
    â•‘    Blox Fruits Assistant    â•‘
    â•‘                             â•‘
    â•‘  âœ… Sistema Cargado        â•‘
    â•‘  ğŸ“Š VersiÃ³n: ]] .. self.Config.Version .. [[         â•‘
    â•‘  ğŸ¯ MÃ³dulos Activados      â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ]]
    
    print(message)
end

-- FunciÃ³n para cambiar configuraciÃ³n
function RezoHub:UpdateConfig(newConfig)
    for key, value in pairs(newConfig) do
        if self.Config[key] ~= nil then
            self.Config[key] = value
        end
    end
end

-- Obtener estado del sistema
function RezoHub:GetStatus()
    return {
        Config = self.Config,
        ModulesLoaded = #self.Modules,
        Player = player.Name,
        Character = self.Character ~= nil
    }
end

-- Inicializar automÃ¡ticamente
RezoHub:Initialize()

return RezoHub
